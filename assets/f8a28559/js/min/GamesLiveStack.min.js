"use strict";var GamesLiveStack=function(t){function a(t){return{title:t.itemName,url:t.itemImage,username:t.username}}var e=$.extend(!0,{listGames:[],channel:"",startSocket:!0,landing:""},t),n={listGames:[],addGame:function(t){this.listGames.push(t)},getGames:function(){return this.listGames}},i=5,r=function(t){switch(t){case"steampool":return function(t){if(void 0===t||"undefined"==typeof t.title)return $();var a=t.title,e=t.url,n=LandingCore.getTransliteration(t.username,LandingConfig.systemLanguage),i=$("<a>").addClass("object-history").attr("href","#main-slide").attr("data-placement","bottom").attr("data-toggle","tooltip").attr("data-original-title",a),r=$("<img>").attr("src",e).addClass("game-winner"),s=$("<span>").addClass("name-winner").html('<span class="d5">'+n+"</span>");return i.append(r).append(s)};case"steamboy":return function(t){if(void 0===t||"undefined"==typeof t.title)return $();var a=t.title,e=t.url,n=LandingCore.getTransliteration(t.username,LandingConfig.systemLanguage),i=$("<a>").addClass("latest-wins-item object-history animation-show").attr("href","#main-slide").attr("data-placement","bottom").attr("data-toggle","tooltip").attr("data-original-title",a),r=$("<div>").addClass("latest-wins-img game-winner"),s=$("<img>").attr("src",e).addClass("game-winner");s=r.append(s);var d=$("<div>").addClass("latest-wins-email"),l=$("<span>").addClass("name-winner").html('<span class="d5">'+n+"</span>");return l=d.append(l),i.append(s).append(l)};case"rollkeys":return function(t){if(void 0===t||"undefined"==typeof t.title)return $();var a=t.title,e=t.url,n=LandingCore.getTransliteration(t.username,LandingConfig.systemLanguage),i=$("<div>").addClass("winner-block").attr("data-placement","bottom").attr("data-toggle","tooltip").attr("data-original-title",a),r=$("<div>").addClass("winner-game").html('<img src="'+e+'"/>'),s=$("<div>").addClass("winner-name").html(n);return i.append(r).append(s)};case"xmasroll":return function(t){if(void 0===t||"undefined"==typeof t.title)return $();var a=t.title,e=t.url,n=LandingCore.getTransliteration(t.username,LandingConfig.systemLanguage),i=$("<div>").addClass("winners-item").attr("data-placement","bottom").attr("data-toggle","tooltip").attr("data-original-title",a),r=$("<div>").addClass("winners-item__img").html('<img src="'+e+'">'),s=$("<div>").addClass("winners-item__name").html(n);return i.append(r).append(s)};case"rollsteam":return function(t){if(void 0===t||"undefined"==typeof t.title)return $();var a=t.title,e=t.url,n=LandingCore.getTransliteration(t.username,LandingConfig.systemLanguage),i=$("<a>").addClass("last-win--item").attr("data-placement","bottom").attr("data-toggle","tooltip").attr("data-original-title",a),r=$("<div>").addClass("image").html('<img src="'+e+'"/>'),s=$("<p>").html(n);return i.append(r).append(s)};case"secretgame":return function(t){if(void 0===t||"undefined"==typeof t.title)return $();var a=t.title,e=t.url,n=LandingCore.getTransliteration(t.username,LandingConfig.systemLanguage),i=$("<a>").addClass("last-win--item").attr("href","#"),r=$("<div>").addClass("last-win--image").html('<img src="'+e+'"/>'),s=$("<div>").addClass("last-win--email").attr("data-toggle","tooltip").attr("data-original-title",a).text(n);return i.append(r).append(s)};case"firekeys":return function(t){if(void 0===t||"undefined"==typeof t.title)return $();var a=(t.title,t.url),e=LandingCore.getTransliteration(t.username,LandingConfig.systemLanguage),n=$("<div>").addClass("win-slider-item").attr("data-toggle","tooltip").attr("data-placement","bottom").attr("data-original-title",e),i=$("<div>").addClass("win-slider-img").css("background-image","url("+a+")");return n.append(i)};case"gamespin":return function(t){if(void 0===t||"undefined"==typeof t.title)return $();var a=(t.title,t.url),e=LandingCore.getTransliteration(t.username,LandingConfig.systemLanguage),n=$("<div>").addClass("winners-item"),i=$("<div>").addClass("winners-item__img").html('<img src="'+a+'">'),r=$("<div>").addClass("winners-item__name").html("<span>"+e+"</span>");return n.append(i).append(r)}}return function(){}};for(var s in e.listGames)n.addGame(a(e.listGames[s]));"firekeys"===e.landing&&(i=8);var d=new GameStack({selector:".last-sale",limit:i,enableTimer:!1,games:n,createHMTLCallback:r(e.landing)});if(e.startSocket){var l=LandingCore.getSocketConnection(e.channel,{reconnection:!0,reconnectionDelay:2e3,reconnectionDelayMax:1e4,reconnectionAttempts:1,timeout:5e3});l.on("response",function(t,i){if(i!=e.channel)return!1;var r=JSON.parse(t);n.addGame(a(r)),d.updateStack()})}$("body").on("click",".last-sale a",function(t){t.preventDefault()})};